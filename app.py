
import streamlit as st
import json
from datetime import datetime
from korean_lunar_calendar import KoreanLunarCalendar
import smtplib
from email.mime.text import MIMEText
from email.mime.multipart import MIMEMultipart

def load_oheng_data():
    with open("oheng_data.json", "r", encoding="utf-8") as f:
        return json.load(f)

def analyze_oheng_by_year(year):
    stems = ['ê°‘', 'ì„', 'ë³‘', 'ì •', 'ë¬´', 'ê¸°', 'ê²½', 'ì‹ ', 'ì„', 'ê³„']
    stem = stems[(year - 4) % 10]
    if stem in ['ê°‘', 'ì„']:
        return "ëª©"
    elif stem in ['ë³‘', 'ì •']:
        return "í™”"
    elif stem in ['ë¬´', 'ê¸°']:
        return "í† "
    elif stem in ['ê²½', 'ì‹ ']:
        return "ê¸ˆ"
    else:
        return "ìˆ˜"

def get_birth_season(birth_date):
    month = birth_date.month
    if month in [3, 4, 5]:
        return "ë´„"
    elif month in [6, 7, 8]:
        return "ì—¬ë¦„"
    elif month in [9, 10, 11]:
        return "ê°€ì„"
    else:
        return "ê²¨ìš¸"

def generate_interpretation(name, gender, oheng, survey, bmi, season):
    lines = []
    lines.append(f"ğŸ”® {name}({gender})ë‹˜ì˜ ì‚¬ì£¼ëŠ” '{oheng}'ì˜ ê¸°ìš´ì„ ì¤‘ì‹¬ìœ¼ë¡œ í•˜ë©°, ì¶œìƒ ê³„ì ˆì€ '{season}'ì…ë‹ˆë‹¤.\n")

    # 1. ì„±ê²©ê³¼ ì„±í–¥
    lines.append("ğŸ§  [1] íƒ€ê³ ë‚œ ì„±ê²©ê³¼ ì„±í–¥")
    if oheng == "ëª©":
        lines.append("- ğŸŒ³ ëª©(æœ¨): ì°½ì¡°ì ì´ê³  ì§„ì·¨ì ì¸ ì„±í–¥ì„ ì§€ë‹Œ ë¶„ì…ë‹ˆë‹¤. ë…ë¦½ì‹¬ì´ ê°•í•˜ë©° ìƒˆë¡œìš´ ì‹œë„ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
    elif oheng == "í™”":
        lines.append("- ğŸ”¥ í™”(ç«): í™œë°œí•˜ê³  ì—´ì •ì ì¸ ì„±ê²©ìœ¼ë¡œ ì£¼ë³€ì„ ì´ë„ëŠ” ë¦¬ë” ê¸°ì§ˆì´ ìˆìœ¼ë©° ê°ì • í‘œí˜„ì´ í’ë¶€í•©ë‹ˆë‹¤.")
    elif oheng == "í† ":
        lines.append("- ğŸªµ í† (åœŸ): ì°¨ë¶„í•˜ê³  ì‹ ì¤‘í•˜ë©° ì±…ì„ê°ì´ ê°•í•œ ì„±ê²©ìœ¼ë¡œ, ì•ˆì •ê³¼ ì¡°í™”ë¥¼ ì¶”êµ¬í•˜ëŠ” ìœ í˜•ì…ë‹ˆë‹¤.")
    elif oheng == "ê¸ˆ":
        lines.append("- âš”ï¸ ê¸ˆ(é‡‘): ëƒ‰ì² í•˜ê³  ë¶„ì„ì ì¸ ì„±í–¥ìœ¼ë¡œ, ì²´ê³„ì ì´ë©° ë…¼ë¦¬ì ì¸ ì‚¬ê³ ë¥¼ ì§€í–¥í•©ë‹ˆë‹¤.")
    else:
        lines.append("- ğŸ’§ ìˆ˜(æ°´): ê°ì„±ì ì´ê³  ì§ê´€ì ì¸ ì„±í–¥ìœ¼ë¡œ, ì˜ˆìˆ ì  ê°ê°ê³¼ ì‚¬ëŒì— ëŒ€í•œ í†µì°°ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.")

    # 2. ìš´ì„¸ íë¦„
    lines.append("\nğŸ”® [2] ìš´ì„¸ íë¦„ê³¼ ì¸ìƒ ê²½í–¥")
    lines.append("- ì—°ë„ë³„ ì˜¤í–‰ì˜ íë¦„ì— ë”°ë¼ ê±´ê°•ê³¼ ìš´ì˜ ê°•ì•½ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
    if season == "ë´„":
        lines.append("- ë´„ì— íƒœì–´ë‚œ ë¶„ì€ ì„±ì¥ê³¼ ë³€í™”ì— ìœ ë¦¬í•˜ë©°, ì²­ë…„ê¸° ê¸°íšŒê°€ ë§ìŠµë‹ˆë‹¤.")
    elif season == "ì—¬ë¦„":
        lines.append("- ì—¬ë¦„ ì¶œìƒìëŠ” ì—ë„ˆì§€ ë„˜ì¹˜ë©° ì„±ê³µìš•ì´ ê°•í•˜ë‚˜ ì†Œëª¨ê°€ ì‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
    elif season == "ê°€ì„":
        lines.append("- ê°€ì„ ì¶œìƒìëŠ” ì‹¤ì† ìˆê³  ì¸ë‚´ì‹¬ì´ ê°•í•˜ì—¬ ì¤‘ë…„ ì´í›„ì— ë”ìš± ë¹›ë‚©ë‹ˆë‹¤.")
    else:
        lines.append("- ê²¨ìš¸ ì¶œìƒìëŠ” ë‚´ë©´ì´ ê¹Šê³  ì¤€ë¹„ì„±ì´ ë›°ì–´ë‚˜ë©°, ëŠ¦ê²Œ ê°œí™”í•˜ëŠ” ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.")

    # 3. ì§ì—… ì„±í–¥
    lines.append("\nğŸ’¼ [3] ì í•©í•œ ì§ì—…ê³¼ ìƒí™œ ë°©ì‹")
    if oheng == "ëª©":
        lines.append("- ê¸°íš, ì—°êµ¬, ì°½ì‘, êµìœ¡, ìì—°ê³¼í•™ ë“± ììœ ë¡­ê³  ì„±ì¥ì„± ë†’ì€ ë¶„ì•¼ê°€ ì–´ìš¸ë¦½ë‹ˆë‹¤.")
    elif oheng == "í™”":
        lines.append("- ë§ˆì¼€íŒ…, ìŠ¤í¬ì¸ , ì •ì¹˜, ë°©ì†¡, ë¦¬ë”ì‹­ì´ ìš”êµ¬ë˜ëŠ” ë¶„ì•¼ì—ì„œ ê°•ì ì„ ê°€ì§‘ë‹ˆë‹¤.")
    elif oheng == "í† ":
        lines.append("- ê¸ˆìœµ, í–‰ì •, ìƒë‹´, ì‹í’ˆ ë“± ì‹¤ë¬´ ì¤‘ì‹¬ì˜ ì•ˆì •ì ì¸ ì§ì—…êµ°ì´ ì í•©í•©ë‹ˆë‹¤.")
    elif oheng == "ê¸ˆ":
        lines.append("- ë²•ë¥ , ê¸°ìˆ , ë°ì´í„° ë¶„ì„, ì»¨ì„¤íŒ… ë“± ë…¼ë¦¬ë ¥ê³¼ ì „ëµì´ í•„ìš”í•œ ì§ì¢…ì— ìœ ë¦¬í•©ë‹ˆë‹¤.")
    else:
        lines.append("- ì˜ˆìˆ , ìƒë‹´, êµìœ¡, ì¹˜ë£Œ ë¶„ì•¼ì²˜ëŸ¼ ê°ì„±ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ì§ì—…ì— ì í•©í•©ë‹ˆë‹¤.")

    # 4. ì• ì •ìš´
    lines.append("\nğŸ’ [4] ì• ì •ìš´ê³¼ ì¸ê°„ê´€ê³„")
    if oheng == "ëª©":
        lines.append("- ììƒí•˜ê³  ë°°ë ¤ì‹¬ ê¹Šì§€ë§Œ, ê³ ì§‘ì´ ìˆì–´ ê°ˆë“±ì´ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
    elif oheng == "í™”":
        lines.append("- ì—´ì •ì ì¸ ì—°ì• ë¥¼ ì¦ê¸°ë©° ë¹ ë¥´ê²Œ ì¹œí•´ì§€ì§€ë§Œ, ê°ì •ê¸°ë³µìœ¼ë¡œ ì˜¤í•´ ì†Œì§€ê°€ ìˆìŠµë‹ˆë‹¤.")
    elif oheng == "í† ":
        lines.append("- ì•ˆì •ê° ìˆëŠ” ê´€ê³„ë¥¼ ì„ í˜¸í•˜ë©° í—Œì‹ ì ì´ì§€ë§Œ í‘œí˜„ì—ëŠ” ë‹¤ì†Œ ì„œíˆ´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
    elif oheng == "ê¸ˆ":
        lines.append("- ì‹ ì¤‘í•˜ê³  ì ˆì œëœ ì‚¬ë‘ì„ ì¶”êµ¬í•˜ë©°, ì¹œë°€í•´ì§€ê¸°ê¹Œì§€ ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤.")
    else:
        lines.append("- ê°ì„±ì ì´ë©° ì˜ì¡´ì ì¸ ì„±í–¥ìœ¼ë¡œ, ê¹Šì€ ì• ì •ê³¼ êµê°ì— ë¯¼ê°í•©ë‹ˆë‹¤.")

    # 5. ê±´ê°• ë¶„ì„
    lines.append("\nğŸ©º [5] ì‚¬ì£¼ ê¸°ë°˜ ê±´ê°• ê²½í–¥")
    if oheng == "ëª©":
        lines.append("- ê°„ê³¼ ê·¼ìœ¡, ì¸ëŒ€ ê³„í†µì´ ì•½í•  ìˆ˜ ìˆìœ¼ë©° ìŠ¤íŠ¸ë ˆìŠ¤ì„± í”¼ë¡œì— ë¯¼ê°í•©ë‹ˆë‹¤.")
    elif oheng == "í™”":
        lines.append("- ì‹¬ì¥, í˜ˆì••, ìˆœí™˜ê³„ ë¬¸ì œê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë©°, ì—´ì´ ë§ì€ ì²´ì§ˆì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.")
    elif oheng == "í† ":
        lines.append("- ì†Œí™”ê¸° ê³„í†µì— ì•½ì ì„ ê°€ì§ˆ ìˆ˜ ìˆìœ¼ë©°, ë³µë¶€ íŠ¸ëŸ¬ë¸”ì— ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.")
    elif oheng == "ê¸ˆ":
        lines.append("- íì™€ í”¼ë¶€, ë©´ì—­ ê³„í†µì´ ë¯¼ê°í•˜ì—¬ í˜¸í¡ê¸° ì§ˆí™˜ì´ë‚˜ ì•Œë ˆë¥´ê¸°ì— ìœ ì˜í•´ì•¼ í•©ë‹ˆë‹¤.")
    else:
        lines.append("- ì‹ ì¥, ë°©ê´‘, ë‡Œ ê±´ê°•ê³¼ ì—°ê´€ì´ í¬ë©°, ì²´ë‚´ ìˆ˜ë¶„ ë¶€ì¡±ì´ë‚˜ ì •ì‹ ì  í”¼ë¡œê°€ ë™ë°˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")

    # 6. ê±´ê°• ê²°ë¡ 
    lines.append("\nğŸ“Š [6] ì„¤ë¬¸ ë° BMI ê¸°ë°˜ ì¢…í•© ê±´ê°• íŒë‹¨")
    lines.append(f"- í˜„ì¬ BMI: {bmi:.1f}")
    if bmi < 18.5:
        lines.append("  â†’ ì €ì²´ì¤‘: ì²´ë ¥ ì €í•˜ì™€ ì˜ì–‘ ë¶ˆê· í˜• ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.")
    elif bmi >= 25:
        lines.append("  â†’ ê³¼ì²´ì¤‘: ê³ í˜ˆì••, ë‹¹ë‡¨ ë“± ëŒ€ì‚¬ì§ˆí™˜ ë°œìƒ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.")
    else:
        lines.append("  â†’ ì •ìƒì²´ì¤‘: ê· í˜• ì¡íŒ ì²´í˜•ì…ë‹ˆë‹¤. ìœ ì§€ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.")

    active_flags = [k for k, v in survey.items() if v]
    if active_flags:
        lines.append(f"- ì„¤ë¬¸ì„ í†µí•´ ë‚˜íƒ€ë‚œ ê±´ê°• ì´ìŠˆ: {', '.join(active_flags)}")
    else:
        lines.append("- ê±´ê°• ì„¤ë¬¸ìƒ í° íŠ¹ì´ì‚¬í•­ì€ í™•ì¸ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.")

    # 7. ì˜ˆë°©ì„ ìœ„í•œ ê±´ê°• ê°€ì´ë“œ
    lines.append("\nğŸ›¡ï¸ [7] ìƒí™œ ìŠµê´€ ë° ê±´ê°•ê´€ë¦¬ íŒ")
    if oheng == "ëª©":
        lines.append("- ìŠ¤íŠ¸ë ˆìŠ¤ í•´ì†Œ, ì£¼ê¸°ì ì¸ ê°„ í•´ë…, ê·œì¹™ì ì¸ ê±·ê¸° ìš´ë™ì´ ì¢‹ìŠµë‹ˆë‹¤.")
    elif oheng == "í™”":
        lines.append("- ìœ ì‚°ì†Œ ìš´ë™, í˜ˆì•¡ìˆœí™˜ ì´‰ì§„ ì‹ë‹¨, ì‹¬ì¥ì— ë¬´ë¦¬ ì£¼ì§€ ì•ŠëŠ” ìƒí™œì„ ê¶Œì¥í•©ë‹ˆë‹¤.")
    elif oheng == "í† ":
        lines.append("- ì‹ìŠµê´€ ê°œì„ , ê°€ë²¼ìš´ ë³µë¶€ ë§ˆì‚¬ì§€, ì¥ ê±´ê°• í”„ë¡œë°”ì´ì˜¤í‹±ìŠ¤ ì„­ì·¨ê°€ ë„ì›€ë©ë‹ˆë‹¤.")
    elif oheng == "ê¸ˆ":
        lines.append("- ë¯¸ì„¸ë¨¼ì§€ í”¼í•˜ê¸°, ìˆ˜ë¶„ ì„­ì·¨ ëŠ˜ë¦¬ê¸°, ìœ ì‚°ì†Œ ìš´ë™ ì¤‘ì‹¬ì˜ ìƒí™œ ìŠµê´€ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.")
    else:
        lines.append("- ë”°ëœ»í•œ ë¬¼ ìì£¼ ë§ˆì‹œê¸°, ì •ì‹ ì•ˆì • ìš”ë²•(ëª…ìƒ ë“±), ìˆ˜ë©´ì˜ ì§ˆ ê°œì„ ì— ì§‘ì¤‘í•˜ì„¸ìš”.")

    # 8. ì¶”ì²œ ì˜ì–‘ì†Œ ë° ê¸°ëŠ¥
    lines.append("\nğŸ’Š [8] ì²´ì§ˆ ë³´ì™„ì„ ìœ„í•œ ì¶”ì²œ ì˜ì–‘ì†Œ")
    oheng_data = load_oheng_data()
    nutrients = oheng_data.get(oheng, {}).get("ë¶€ì¡±", {}).get("ì˜ì–‘ì†Œ", [])
    for n in nutrients:
        explanation = {
            "ë¹„íƒ€ë¯¼ Bêµ°": "í”¼ë¡œ íšŒë³µ, ì—ë„ˆì§€ ëŒ€ì‚¬, ì‹ ê²½ ì•ˆì •",
            "ì•„ì—°": "ë©´ì—­ ê¸°ëŠ¥ ê°•í™”, ìƒì²˜ íšŒë³µ, ê°„ ê¸°ëŠ¥ ë³´ì¡°",
            "L-ì¹´ë¥´ë‹ˆí‹´": "ì§€ë°© ì—°ì†Œ, í”¼ë¡œê° ê°ì†Œ",
            "ì½”ì—”ìì„ Q10": "ì‹¬í˜ˆê´€ ê±´ê°•, ì„¸í¬ ì—ë„ˆì§€ ìƒì„±",
            "ë§ˆê·¸ë„¤ìŠ˜": "ê·¼ìœ¡ ì´ì™„, ìŠ¤íŠ¸ë ˆìŠ¤ ì™„í™”, í˜ˆì•• ì¡°ì ˆ",
            "íƒ€ìš°ë¦°": "ê°„ í•´ë…, ì‹¬ì¥ ê¸°ëŠ¥ ì•ˆì •",
            "í”„ë¡œë°”ì´ì˜¤í‹±ìŠ¤": "ì¥ ê±´ê°•, ë©´ì—­ë ¥ í–¥ìƒ",
            "íš¨ì†Œ": "ì†Œí™” ì´‰ì§„, ì˜ì–‘ì†Œ í¡ìˆ˜ ë³´ì¡°",
            "ë¹„íƒ€ë¯¼ B1": "ë‹¹ ëŒ€ì‚¬, ì‹ ê²½ ê¸°ëŠ¥ ìœ ì§€",
            "ë¹„íƒ€ë¯¼ C": "í•­ì‚°í™” ì‘ìš©, ë©´ì—­ë ¥ ê°•í™”",
            "ë¹„íƒ€ë¯¼ D": "ë¼ˆ ê±´ê°•, ë©´ì—­ ê¸°ëŠ¥",
            "ì˜¤ë©”ê°€3": "í˜ˆì¤‘ ì½œë ˆìŠ¤í…Œë¡¤ ê°œì„ , ì—¼ì¦ ì–µì œ",
            "ë¹„íƒ€ë¯¼ E": "ì„¸í¬ ë³´í˜¸, ë…¸í™” ë°©ì§€",
            "ì…€ë ˆëŠ„": "í•­ì‚°í™”, ê°‘ìƒì„  ê¸°ëŠ¥ ë³´ì¡°"
        }
        desc = explanation.get(n, "ì‹ ì²´ ê· í˜•ì„ ìœ„í•œ í•„ìˆ˜ ì˜ì–‘ì†Œ")
        lines.append(f"- {n}: {desc}")

    return "\n".join(lines)

def send_email(recipient_email, subject, message):
    try:
        sender_email = "audiso.seo@gmail.com"
        sender_password = "tjdudwns00!!"
        msg = MIMEMultipart()
        msg["From"] = sender_email
        msg["To"] = recipient_email
        msg["Subject"] = subject
        msg.attach(MIMEText(message, "plain"))
        with smtplib.SMTP("smtp.gmail.com", 587) as server:
            server.starttls()
            server.login(sender_email, sender_password)
            server.send_message(msg)
        return True
    except Exception:
        return False

# Streamlit UI
st.set_page_config(page_title="ì‚¬ì£¼ ê±´ê°• ì˜ˆì¸¡", layout="centered")
st.title("ğŸŒ¿ ë‚´ ëª¸ì— ë§ëŠ” ê±´ê°•ê´€ë¦¬, ë‚´ ì‚¬ì£¼ì— ë¬¼ì–´ë³´ì„¸ìš”")

st.subheader("ğŸ‘¤ ê¸°ë³¸ ì •ë³´ ì…ë ¥")
name = st.text_input("ì´ë¦„")
gender = st.radio("ì„±ë³„", ["ë‚¨ì„±", "ì—¬ì„±"])
birth_date = st.date_input("ìƒë…„ì›”ì¼", datetime(1993, 3, 29), min_value=datetime(1940, 1, 1))
height = st.number_input("í‚¤ (cm)", 100, 250, 170)
weight = st.number_input("ëª¸ë¬´ê²Œ (kg)", 30, 200, 70)
bmi = weight / ((height / 100) ** 2)

st.subheader("ğŸ©º ê±´ê°• ì„¤ë¬¸ (20ë¬¸í•­)")
survey = {
    "í”¼ë¡œ": st.checkbox("ìì£¼ í”¼ë¡œí•¨"),
    "ìˆ˜ë©´": st.checkbox("ìˆ˜ë©´ ë¶€ì¡± ë˜ëŠ” ë¶ˆë©´ì¦"),
    "ì†Œí™”": st.checkbox("ì†Œí™”ë¶ˆëŸ‰ ë˜ëŠ” ì¥íŠ¸ëŸ¬ë¸”"),
    "ê³ í˜ˆì••": st.checkbox("ê³ í˜ˆì•• ë³‘ë ¥ ìˆìŒ"),
    "ë‹¹ë‡¨": st.checkbox("ë‹¹ë‡¨ ë³‘ë ¥ ìˆìŒ"),
    "ì‹ ì¥": st.checkbox("ì‹ ì¥ ì§ˆí™˜ ìˆìŒ"),
    "ì‹¬ì¥": st.checkbox("ì‹¬ì¥ ì§ˆí™˜ ìˆìŒ"),
    "ë‡Œ": st.checkbox("ë‡Œ ì§ˆí™˜ ìˆìŒ"),
    "ìš´ë™ë¶€ì¡±": st.checkbox("ìš´ë™ì„ ê±°ì˜ í•˜ì§€ ì•ŠìŒ"),
    "ìˆ˜ë¶„ë¶€ì¡±": st.checkbox("ë¬¼ì„ ê±°ì˜ ë§ˆì‹œì§€ ì•ŠìŒ"),
    "ìŠ¤íŠ¸ë ˆìŠ¤": st.checkbox("ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ìì£¼ ëŠë‚Œ"),
    "í”¼ë¶€íŠ¸ëŸ¬ë¸”": st.checkbox("í”¼ë¶€ íŠ¸ëŸ¬ë¸”ì´ ìì£¼ ìƒê¹€"),
    "ê°ê¸°ì¦ìŒ": st.checkbox("ê°ê¸°ì— ìì£¼ ê±¸ë¦¼"),
    "ëˆˆí”¼ë¡œ": st.checkbox("ëˆˆì˜ í”¼ë¡œê°€ ì¦ìŒ"),
    "ì†ë°œì°¨ê°€ì›€": st.checkbox("ì†ë°œì´ ì˜ ì°¨ê°€ì›€"),
    "ë‘í†µ": st.checkbox("ë‘í†µì„ ìì£¼ ëŠë‚Œ"),
    "ë³€ë¹„": st.checkbox("ë³€ë¹„ ì¦ìƒì´ ìˆìŒ"),
    "ì„¤ì‚¬": st.checkbox("ì„¤ì‚¬ë¥¼ ìì£¼ í•¨"),
    "ì²´ì¤‘ë³€í™”": st.checkbox("ì²´ì¤‘ ë³€í™”ê°€ í¼"),
    "ë¬´ê¸°ë ¥": st.checkbox("ë¬´ê¸°ë ¥í•¨ì„ ìì£¼ ëŠë‚Œ")
}

if st.button("ğŸ” ë¶„ì„ ë° ì¶”ì²œí•˜ê¸°"):
    oheng = analyze_oheng_by_year(birth_date.year)
    season = get_birth_season(birth_date)
    explanation = generate_interpretation(name, gender, oheng, survey, bmi, season)
    st.subheader("ğŸ“˜ ì‚¬ì£¼ ê±´ê°• ë¶„ì„ ê²°ê³¼")
    st.text(explanation)

    st.markdown("---")
    st.markdown("[ğŸ›ï¸ ê±´ê°• ë³´ì²­ê¸° ì†”ë£¨ì…˜ ì œì•ˆ â€” xr.audiso.co.kr](https://xr.audiso.co.kr)")
    st.markdown("---")

    email_address = st.text_input("ğŸ“§ ê²°ê³¼ë¥¼ ì´ë©”ì¼ë¡œ ë°›ì•„ë³´ì‹œê² ì–´ìš”? ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")
    if st.button("ğŸ“¨ ì´ë©”ì¼ ì „ì†¡í•˜ê¸°"):
        if email_address:
            if send_email(email_address, "ì‚¬ì£¼ ê±´ê°• ë¶„ì„ ê²°ê³¼", explanation):
                st.success("âœ… ì´ë©”ì¼ì´ ì„±ê³µì ìœ¼ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤!")
            else:
                st.error("âŒ ì´ë©”ì¼ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì„¤ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”.")
        else:
            st.warning("âš ï¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")

